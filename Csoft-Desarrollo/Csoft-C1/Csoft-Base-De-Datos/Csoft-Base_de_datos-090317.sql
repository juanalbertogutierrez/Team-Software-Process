-- MySQL Script generated by MySQL Workbench
-- 03/29/17 00:37:07
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `mydb` ;

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Planes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Planes` (
  `ID` VARCHAR(45) GENERATED ALWAYS AS (),
  `Nombre` VARCHAR(45) NOT NULL,
  `Num_Semestre` INT NOT NULL,
  `Fecha` DATE NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE INDEX `ID_UNIQUE` (`ID` ASC),
  UNIQUE INDEX `Nombre_UNIQUE` (`Nombre` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Alumnos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Alumnos` (
  `ID_A` VARCHAR(45) GENERATED ALWAYS AS () VIRTUAL,
  `Nombre` VARCHAR(45) NOT NULL,
  `ApPaterno` VARCHAR(45) NOT NULL,
  `ApMaterno` VARCHAR(45) NULL,
  `FNacimiento` DATE NOT NULL,
  `Direccion` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(45) NOT NULL,
  `ID_Plan` INT NOT NULL,
  `Semestre` INT NOT NULL,
  PRIMARY KEY (`ID_A`),
  UNIQUE INDEX `ID_Al_UNIQUE` (`ID_A` ASC),
  INDEX `ID_idx` (`ID_Plan` ASC),
  CONSTRAINT `ID`
    FOREIGN KEY (`ID_Plan`)
    REFERENCES `mydb`.`Planes` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Maestros`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Maestros` (
  `ID_M` VARCHAR(45) GENERATED ALWAYS AS () VIRTUAL,
  `Nombre` VARCHAR(45) NOT NULL,
  `ApPaterno` VARCHAR(45) NOT NULL,
  `ApMaterno` VARCHAR(45) NULL,
  `FNacimiento` DATE NOT NULL,
  `Direccion` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_M`),
  UNIQUE INDEX `ID_Al_UNIQUE` (`ID_M` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Materias`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Materias` (
  `ID_MAT` VARCHAR(45) GENERATED ALWAYS AS (),
  `Nombre` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_MAT`),
  UNIQUE INDEX `ID_MAT_UNIQUE` (`ID_MAT` ASC),
  UNIQUE INDEX `Nombre_UNIQUE` (`Nombre` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Usuarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Usuarios` (
  `ID_U` VARCHAR(45) GENERATED ALWAYS AS (),
  `Nombre` VARCHAR(45) NOT NULL,
  `ApPaterno` VARCHAR(45) NOT NULL,
  `ApMaterno` VARCHAR(45) NULL,
  `FNacimiento` DATE NOT NULL,
  `Direccion` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `Email` VARCHAR(45) NOT NULL,
  `Tipo_Usuario` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_U`),
  UNIQUE INDEX `ID_U_UNIQUE` (`ID_U` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Cursa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Cursa` (
  `ID_Alumno` VARCHAR(45) NOT NULL,
  `ID_Materia` VARCHAR(45) NOT NULL,
  `Calificacion` FLOAT NULL,
  PRIMARY KEY (`ID_Alumno`, `ID_Materia`),
  INDEX `ID_M_idx` (`ID_Materia` ASC),
  CONSTRAINT `ID_A`
    FOREIGN KEY (`ID_Alumno`)
    REFERENCES `mydb`.`Alumnos` (`ID_A`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_MAT`
    FOREIGN KEY (`ID_Materia`)
    REFERENCES `mydb`.`Materias` (`ID_MAT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Imparte`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Imparte` (
  `ID_Maestro` VARCHAR(45) NOT NULL,
  `ID_Materia` VARCHAR(45) NOT NULL,
  `Status` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_Maestro`, `ID_Materia`),
  INDEX `ID_M_idx` (`ID_Materia` ASC),
  CONSTRAINT `ID_M`
    FOREIGN KEY (`ID_Maestro`)
    REFERENCES `mydb`.`Maestros` (`ID_M`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_MAT`
    FOREIGN KEY (`ID_Materia`)
    REFERENCES `mydb`.`Materias` (`ID_MAT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Posee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Posee` (
  `ID_Materia` VARCHAR(45) NOT NULL,
  `ID_Plan` VARCHAR(45) NOT NULL,
  `Semestre` INT NOT NULL,
  PRIMARY KEY (`ID_Materia`, `ID_Plan`),
  INDEX `ID_P_idx` (`ID_Plan` ASC),
  CONSTRAINT `ID_MAT`
    FOREIGN KEY (`ID_Materia`)
    REFERENCES `mydb`.`Materias` (`ID_MAT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID`
    FOREIGN KEY (`ID_Plan`)
    REFERENCES `mydb`.`Planes` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `mydb`.`Planes`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Planes` (`ID`, `Nombre`, `Num_Semestre`, `Fecha`) VALUES ('ISW001', 'Ingeniería de Software', 9, '17-03-26');
INSERT INTO `mydb`.`Planes` (`ID`, `Nombre`, `Num_Semestre`, `Fecha`) VALUES ('ICS003', 'Ingeniería en Computación y Sistemas', 9, '17-03-26');
INSERT INTO `mydb`.`Planes` (`ID`, `Nombre`, `Num_Semestre`, `Fecha`) VALUES ('ARQ009', 'Arquitectura', 8, '15-02-17');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Alumnos`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Alumnos` (`ID_A`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`, `ID_Plan`, `Semestre`) VALUES ('ROAB121194', 'Brenda', 'Robles', 'Antonio', '94-11-21', 'Calle Universidad No.2340', '2132311', 'Brenda.robles@gmail.com', ISW001, 7);
INSERT INTO `mydb`.`Alumnos` (`ID_A`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`, `ID_Plan`, `Semestre`) VALUES ('VIVG250694', 'Guillermo', 'Vivaldo', 'Vazquez', '94-06-25', 'Calle Bugambilias No.6346', '2193336', 'Guillermo.vivaldo@gmail.com', ISW001, 7);
INSERT INTO `mydb`.`Alumnos` (`ID_A`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`, `ID_Plan`, `Semestre`) VALUES ('BEMP', 'Patricia Erendira', 'Benavides', 'Muratalla', '90-03-12', 'Calle Acacias No.1231', '2314426', 'Patricia.erendira@gmail.com', ICS003, 9);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Maestros`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Maestros` (`ID_M`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`) VALUES ('ROTLV', 'Lorna Verónica', 'Rosas', 'Téllez', '90-01-23', 'Calle Universidad No.6432', '2981231', 'Lorna.veronica@gmail.com');
INSERT INTO `mydb`.`Maestros` (`ID_M`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`) VALUES ('AGCJR', 'Jorge Rafael', 'Aguilar', 'Cisneros', '90-02-23', 'Calle Lomas Hageas No.1987', '2783412', 'Jorge.rafael@gmail.com');
INSERT INTO `mydb`.`Maestros` (`ID_M`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`) VALUES ('NAHA120387', 'Alejandro', 'Narvaez', 'Herazo', '87-03-12', 'Calle Loma Linda No.1876', '2673123', 'Alejandro.narvaez@gmail.com');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Materias`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Materias` (`ID_MAT`, `Nombre`) VALUES ('MAT001A', 'Álgebra Básica');
INSERT INTO `mydb`.`Materias` (`ID_MAT`, `Nombre`) VALUES ('PRO001F', 'Fundamentos de Programación');
INSERT INTO `mydb`.`Materias` (`ID_MAT`, `Nombre`) VALUES ('IBD001A', 'Introducción a Base de Datos');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Usuarios`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Usuarios` (`ID_U`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`, `Tipo_Usuario`) VALUES ('USR1_260693', 'René', 'Moratilla', 'Montes', '93-06-26', 'Recta a Cholula No.3423', '2873412', 'Rene.moratilla@gmail.com', 'Administrador');
INSERT INTO `mydb`.`Usuarios` (`ID_U`, `Nombre`, `ApPaterno`, `ApMaterno`, `FNacimiento`, `Direccion`, `Telefono`, `Email`, `Tipo_Usuario`) VALUES ('USR2_121293', 'Jesús Alberto', 'Goiz', 'Barrales', '93-12-12', 'Recta a Cholula No.3421', '2873212', 'Jesus.goiz@gmail.com', 'Administrador');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Cursa`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Cursa` (`ID_Alumno`, `ID_Materia`, `Calificacion`) VALUES ('ROAB121194', 'IBD001A', NULL);
INSERT INTO `mydb`.`Cursa` (`ID_Alumno`, `ID_Materia`, `Calificacion`) VALUES ('VIVG250694', 'IBD001A', NULL);
INSERT INTO `mydb`.`Cursa` (`ID_Alumno`, `ID_Materia`, `Calificacion`) VALUES ('VIVG250694', 'MAT001A', 9.8);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Imparte`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Imparte` (`ID_Maestro`, `ID_Materia`, `Status`) VALUES ('ROTLV230190', 'IBD001A', 'Activa');
INSERT INTO `mydb`.`Imparte` (`ID_Maestro`, `ID_Materia`, `Status`) VALUES ('ROTLV230190', 'PRO001F', 'Activa');
INSERT INTO `mydb`.`Imparte` (`ID_Maestro`, `ID_Materia`, `Status`) VALUES ('NAHA120387', 'MAT001A', 'Inactiva');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Posee`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Posee` (`ID_Materia`, `ID_Plan`, `Semestre`) VALUES ('IBD001A', 'ISW001', 5);
INSERT INTO `mydb`.`Posee` (`ID_Materia`, `ID_Plan`, `Semestre`) VALUES ('IBD001A', 'ICS003', 5);
INSERT INTO `mydb`.`Posee` (`ID_Materia`, `ID_Plan`, `Semestre`) VALUES ('MAT001A', 'ARQ009', 1);

COMMIT;

